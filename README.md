---
title: "My Tikz Bars"
author: "Alfonso R. Reyes"
output:
  html_document:
    css: style.css
    keep_md: true
    toc: true
    number_sections: false
---




## NEWS
* Output files like .png and .pdf are now being stored in `./out`
* The `README.Rmd` document now allows to customize variables for the folders
* The Hugo website through the `_build_site.R` script also allow some customization
* The source folder with TikZ files are now only saved in `src`. Only `tex` files
* The template file `template.Rmd` includes now special identifiers so it can be updated with user custom settings that `child.Rmd` uses to retrieve all graphics and code for each of the examples
* The `Makefile` has been optimized to avoid code repetition
* All data files for the TikZ examples now live under `src/data`

## Introduction
This is a repository of the best TikZ examples I have found around the web and from papers, slides, tutorials, and books. Most of the examples are simple enough to encourage anyone to start learning TikZ. By having the result (graphic) on a web page, and be able to click on it to see the code, it rapidly helps to make the connection between **code** and **output**. I find this idea fantastic.

TikZ is ideal for any kind of publications either websites, blogs, papers, articles, slides, or books because they are portable and reproducible. TikZ files are text not binaries. They don't require mouse and clicks but writing code to connect objects and elements. These object can be very simple or as sophisticated as you want. TikZ graphics can be built under any LaTex environment for any operating system: Windows, Linux or Mac OS.

There are hundreds of libraries for TikZ in all scientific fields. That makes it easier to build advanced graphics for practically any domain or discipline because you are able to start from code already written.


## Motivation

While working with Latex and TikZ file I had this question:

**How can I use the power of R to organize TikZ related files?**

**R** is very friendly to Latex and TikZ through the packages `knitr` and `rmarkdown`.

TikZ involves a source file, which carries the `tex` extension; the PDF that is generated by your Latex compiler and editor (I use *TexStudio*); the graphics output file -that could be anything imaginable. I use `png` files.


  
## How this README is built
This `README` is smartly generated with TikZ graphics and code located in the `src` folder.
This means that as you are adding, building, designing new TikZ drawings, they become available to be automatically included in this README file. It uses some `knitr` tricks. But the whole thing is awesome. 

The magic is provided by:

* the file `template.Rmd`
* the chunks of code that you can see in this `README`  


## Deployment of website in GitHub Pages (GHP)
This is a very interesting article about publshing your TikZ site: [Simple deployment to GH Pages](https://www.gnu.org/software/make/manual/html_node/Conditional-Syntax.html). I chose to publish it in `/docs` instead of the `public` folder because it is much easier to deploy. GHP does not allow to publish a website on a folder named `public`, unfortunately.


## Thanks. Original repository and idea 
I found this valuable resource while exploring TikZ and R: https://github.com/walmes/Tikz

It is pretty neat and relatively simple to use and personalize because it uses Hugo, a generator of static websites; the same engine that is used by `blogdown`, `bookdown`, and others.

Thanks to **Walmes Zeviani** for the great idea of combining Latex, TikZ, R and Hugo.

Source: https://github.com/walmes/Tikz
Web: http://leg.ufpr.br/~walmes/Tikz/  



## Summary 
This is my collection of favorite TikZ graphics. It is necessary to store and organize them as gallery because it makes it easier to peek at the code for new designs.



Some useful tutorials:

  * [TikZ Adventskalender](https://tobiw.de/en/teotm/tikz-adventskalender)
  * [TikZ for the Impatient](http://math.et.info.free.fr/TikZ/bdd/TikZ-Impatient.pdf)
  * <http://www.mat.ufpb.br/lenimar/introtikz.pdf>
  * [LaTeX for Economists](http://nfpoitiers.eu/wp-content/uploads/2018/08/3-presentations_and_graphics.pdf)
  * [Configurable Graph Drawing Algorithmsfor the TikZ Graphics Description Language](https://www.tcs.uni-luebeck.de/downloads/papers/2011/2011-configurable-graph-drawing-algorithms-jannis-pohlmann.pdf)
  * [TikZ for Economics By Chiu Yu Ko](https://www.google.com/books/edition/_/t3ZZDwAAQBAJ?hl=en&gbpv=0)
  * <http://www.statistiker-wg.de/pgf/tutorials.htm>
  * [A very minimal introduction to TikZ](https://cremeronline.com/LaTeX/minimaltikz.pdf)
  * [TikZ Tutorial](https://indico.scc.kit.edu/event/48/contributions/3405/attachments/1693/2321/tikz_tutorial.pdf)
  










## Useful statistics

* There are 18 total Tikz figures saved as `.tex` files in this gallery. 
The figures are sorted by filename.
* There are 18 files under `src/` to be compiled with `pdflatex`
* There are 0 files under `src/` to be compiled with `lualatex`
* There are 0 data files under the folder `src/data` that are being used by the TikZ scripts
* There are 0 Latex classes, styles and library files under the `src/texmf` folder



## TikZ graphics and code


****

### [bar-horiz-5_points.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-horiz-5_points.tex)

![](./out/bar-horiz-5_points.png)

  


```tex
\documentclass{standalone}
%\documentclass{article}
% translate with >> pdflatex -shell-escape <file>

% This file is an extract of the PGFPLOTS manual, copyright by Christian Feuersaenger.
%
% Feel free to use it as long as you cite the pgfplots manual properly.
%
% See
%   http://pgfplots.sourceforge.net/pgfplots.pdf
% for the complete manual.
%
% Any required input files (for <plot table> or <plot file> or the table package) can be downloaded
% at
% http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/
% and
% http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/plotdata/

\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\pagestyle{empty}

\begin{document}
\begin{tikzpicture}
\begin{axis}
\addplot+[xbar] coordinates
	{(4,0) (1,1) (2,2)
	 (5,3) (6,4) (1,5)};
\end{axis}
\end{tikzpicture}
\end{document}
```
****

### [bar-interval.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-interval.tex)

![](./out/bar-interval.png)

  


```tex
\documentclass{standalone}   % change from article to standalone



% translate with >> pdflatex -shell-escape <file>

% This file is an extract of the PGFPLOTS manual, copyright by Christian Feuersaenger.
% 
% Feel free to use it as long as you cite the pgfplots manual properly.
%
% See
%   http://pgfplots.sourceforge.net/pgfplots.pdf
% for the complete manual.
%
% Any required input files (for <plot table> or <plot file> or the table package) can be downloaded
% at
% http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/
% and
% http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/plotdata/

\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\pagestyle{empty}

\begin{document}
\begin{tikzpicture}
	\begin{axis}[
		ybar interval=0.90,    % separation between bars
		x tick label as interval,
		xmin=2003,xmax=2030,
		ymin=0,ymax=140,
		xticklabel={
			$\pgfmathprintnumber{\tick}$
			-- $\pgfmathprintnumber{\nexttick}$},
		xtick=data,
		x tick label style={
			rotate=90,anchor=east,
			/pgf/number format/1000 sep=}
		]
		
		\addplot[draw=blue,fill=blue!40!white]
		coordinates
		{(2003,40) (2005,100) (2006,15) 
			(2010,90) (2020,120) (2030,3)};
	\end{axis}
\end{tikzpicture}
\end{document}
```
****

### [bar-multicolor-9000.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor-9000.tex)

![](./out/bar-multicolor-9000.png)

  


```tex
% 9000: call as a function
% https://www.latex4technics.com/?note=U130YI
% https://tex.stackexchange.com/a/370552/173708
\documentclass[a4paper, 12pt]{article}
\usepackage[paperwidth=5in, paperheight=3.2in]{geometry}
\usepackage{pgfplots}

\pgfplotsset{compat=newest}
\geometry{left=0mm, right=3mm,top=6mm, bottom=3mm,}

\definecolor{mygr}{HTML}{e6e6e6}

\begin{document}

% \newcount\ga
% \ga=1 %

% param 1: y-max
\newcommand{\barchart}[2]{%
\begin{figure}[!t]
  \centering

  % Calculate total
  \newcounter{nodenumber}
  \pgfmathsetmacro{\cumnum}{0}
  \pgfmathsetmacro{\totalnum}{0}%
  \foreach \value/\width/\colour/\name [count=\i] in {#2} {%
    % \pgfmathsetmacro{\newcumnum}{\cumnum + 1}
      \pgfmathparse{\value+\totalnum}%
      \stepcounter{nodenumber}
      \global\let\totalnum=\pgfmathresult%
      \global\let\cumnum=\i
      %  \i, \value, \width, \colour, \name, {\arabic{nodenumber}}. \par
  }%  
  Totalnum: \totalnum, \cumnum

  \gdef\xticks{}
  \foreach \i in {1,2,3,4,5} {
    \xdef\xticks{\xticks \i}
  }
  % \xdef\xticks{\xticks 2}
  \xticks

  \begin{tikzpicture}
    \begin{axis}[
        /pgf/number format/1000 sep={},
        width=3.8in,
        height=1.8in,
        at={(0.758in,0.981in)},
        scale only axis,
        clip=false,
        separate axis lines,
        axis on top,
        xmin=0,
        xmax=\cumnum+1,
        xtick={1,2,3,4,5},
        % xtick=\xticks,
        % xtick={\foreach \value [count=\i] in {#2} {\i}},
        x tick style={draw=none},
        xticklabels={GREEN,BLUE,GREY,RED, BLUE},
        % xticklabels={\foreach \value/\width/\colour/\name in {#2} {\colour;\\}},
        ytick={0, 5, 10, 20},
        ymin=0,
        ymax=#1,
        ylabel={YYY},
        ymajorgrids,
        every axis plot/.append style={
          ybar,
          bar width=.2,
          bar shift=0pt,
          fill
        }
      ]

      % \newcount\ga
      % \ga=1 %
      % \addplot[green]coordinates {(\ga,6)};
      % \advance\ga by1;
      % \addplot[blue]coordinates{(\ga,11)};
      % \advance\ga by1;
      % \addplot[mygr]coordinates{(\ga,12)};
      % \advance\ga by1;
      % \addplot[red]coordinates{(\ga,18)};

    \foreach \value / \width / \colour / \name [count=\i] in {#2} {%
      \edef\temp{%
        \noexpand\addplot[\colour]coordinates{(\i, \value)};
      }
      \temp;
    }%

      
    \end{axis}

  \end{tikzpicture}
\end{figure}
}

% \barchart{2500}

% \barchart{2500}{%
%   10/13em/accent!30/Sleeping \& dreaming about work,
%   25/9em/accent!60/resolving issues with investors,
%   20/11em/accent!40/Spending time with family,
%   5/8em/accent!70/Baking cupcakes
% }

\barchart{30}{%
  10/13em/green/Sleeping dreaming about work,
  25/9em/blue/resolving issues with investors,
  20/11em/mygr/Spending time with family,
  5/8em/red/Baking cupcakes,
  15/13em/blue/Sleeping
}

% \foreach \x [count = \xi from 1] in {a,...,c,f,...,z}
%   \xi, $\x$;

% \newcounter{ga}\setcounter{ga}{0}
% \foreach \t in {1,...,10}{\stepcounter{ga}}
%   \thega

% % return elements in alist
% \gdef\alist{}
% \foreach \i in {1,2,3,4} {
%  \xdef\alist{\alist \i,}
% }
% \alist

\end{document}
```
****

### [bar-multicolor-grids.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor-grids.tex)

![](./out/bar-multicolor-grids.png)

  


```tex
% https://tex.stackexchange.com/a/427408/173708
\documentclass[12pt]{article}

%\usepackage[utf8]{inputenc}
\usepackage{graphicx}    
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{bchart}
\usetikzlibrary{decorations.pathreplacing}
\usepackage{subfig}
\pgfplotsset{compat=1.10}

% tight page
\usepackage[active,tightpage]{preview}  % set tight page
\PreviewEnvironment{tikzpicture}        % preview tikz
\setlength\PreviewBorder{15pt}%         % gap around plot

\definecolor{RYB2}{RGB}{245,245,245}
\definecolor{RYB1}{RGB}{218,232,252}
\definecolor{RYB4}{RGB}{108,142,191}

\begin{document}    

\begin{figure}
    \centering    
     \subfloat[][name]{\resizebox{1.1\textwidth}{!}{
        \begin{tikzpicture}
            \begin{axis}[
                symbolic x coords={col1,,col2,,col3},
                xticklabel style={rotate=45,anchor=north east},
                xtick={col1,col2,col3},
                ylabel=Passed Challenges(\%),
                ymajorgrids,
                bar width=17pt,
                ]
                \addplot[ybar,fill=RYB1] 
                coordinates {(col1,64.71)};

                \addplot[ybar,fill=RYB2] 
                coordinates {(col2,26.57)};

                \addplot[ybar,fill=RYB4] 
                coordinates {(col3,45.42)};
            \end{axis}
    	\end{tikzpicture}
	}
}
    \caption{Caption}
    \label{fig:my_label}
\end{figure}    

\end{document}
```
****

### [bar-multicolor-multiseries-center-figure-9000[4star].tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor-multiseries-center-figure-9000[4star].tex)

![](./out/bar-multicolor-multiseries-center-figure-9000[4star].png)

  


```tex
% Vertical bar chart with different colors for each bar [duplicate]
% https://tex.stackexchange.com/questions/381213/vertical-bar-chart-with-different-colors-for-each-bar?noredirect=1&lq=1

% CHANGES
% add table

\documentclass{article}


\usepackage{xcolor}
\usepackage{pgfplots, pgfplotstable}
\usepackage{tikz}
\usetikzlibrary{calc}

% tight page
\usepackage[active,tightpage]{preview}  % set tight page
\PreviewEnvironment{tikzpicture}        % preview tikz
\setlength\PreviewBorder{10pt}%         % gap around plot


\definecolor{hous}{HTML}{b88b4d}
\definecolor{green}{HTML}{79c561}
\definecolor{farming}{HTML}{ded94c}
\definecolor{trans}{HTML}{b4b4a9}
\definecolor{services}{HTML}{ff362e}
\definecolor{other}{HTML}{dbd4d3}
\definecolor{industry}{HTML}{db79c0}
\definecolor{water}{HTML}{7982db}
\definecolor{techinfra}{HTML}{303355}

\pgfkeys{/pgf/shapes/ybar/height/.initial=10cm,/pgf/shapes/ybar/width/.initial=6pt}

\pgfdeclareplotmark{ybar}{%
	\pgfpathrectangle{\pgfpoint{0pt}{-.5*\pgfkeysvalueof{/pgf/shapes/ybar/width}}{0pt}}{%
		\pgfpoint{-\pgfkeysvalueof{/pgf/shapes/ybar/height}}{\pgfkeysvalueof{/pgf/shapes/ybar/width}}}
	\pgfusepath{stroke,fill}}

\begin{document}
	
\pgfplotstableread[col sep=comma]{
Category, 	 	Value,  Color
Housing,   	  	28,	  	hous
Urban green,	28, 	green
Farmlands,		12, 	farming
Transportation, 10, 	trans
Services,		 7, 	services
Other,			 6,		other
Industrial,		 5,		industry
Water bodies,	 3,		water
Technical,		 1,		techinfra
}\datatable	
	
\begin{center}
	\begin{figure} 
		\label{landuse}
		\begin{tikzpicture}
		\begin{axis}[
			ybar=-1cm,
			axis x line*=bottom,
			axis y line*=left,
			height=8cm, 
			width=\textwidth,
			bar width=1cm,
			/pgf/shapes/ybar/width=0.2cm,
			ylabel={Share of land use in [\%]},
			symbolic x coords={Housing,Urban green,Farmlands,Transportation,Services,Other,Industrial,Water bodies,Technical},
			x tick label style={rotate=45, anchor=east, align=left},
			nodes near coords,
			nodes near coords align={vertical},
			scatter/@pre marker code/.code={
				\pgfplotstablegetelem{\coordindex}{Color}\of{\datatable}
				\edef\mycolor{\pgfplotsretval}
				\pgfplotstablegetelem{\coordindex}{Value}\of{\datatable}
				\edef\myvalue{\pgfplotsretval}
				\pgfmathsetmacro{\myheight}{(\myvalue)}
%				\scope[fill=\mycolor,/pgf/shapes/ybar/height=\myheight pt] 
			},
			]

			
%%			\addplot+[hous,fill] table[x=Category,y=Value] {\datatable};
			\addplot+ table[x=Category,y=Value] {\datatable};	

		 \pgfplotstablegetrowsof{\datatable} 
		\pgfmathtruncatemacro{\NumRows}{\pgfplotsretval-1} 
			
		 \pgfplotsinvokeforeach{0,...,\NumRows}{
		 	\pgfplotstablegetelem{#1}{Color}\of{\datatable}
		 	\edef\mycolor{\pgfplotsretval}
		 	\pgfplotstablegetelem{#1}{Category}\of{\datatable}
		 	\edef\mylabel{\pgfplotsretval}
		 	\edef\temp{\noexpand\addlegendimage{area legend,fill=\mycolor}
		 		\noexpand\addlegendentry{\mylabel}}
		 	\temp
		 }		
			
			
%			\addplot[hous,fill] coordinates {(Housing,28)};
%			\addplot[green,fill] coordinates {(Urban green,28)};
%			\addplot[farming,fill] coordinates {(Farmlands,12)};
%			\addplot[trans,fill] coordinates {(Transportation,10)};
%			\addplot[services,fill] coordinates {(Services,7)};
%			\addplot[other,fill] coordinates {(Other,6)};
%			\addplot[industry,fill] coordinates {(Industrial,5)};
%			\addplot[water,fill] coordinates {(Water bodies,3)};
%			\addplot[techinfra,fill] coordinates {(Technical,1)};  
			          
		\end{axis}
		\end{tikzpicture}   
	\end{figure}
\end{center}

     \pgfplotstabletypeset[string type]{\datatable}            % print original table
\end{document}
```
****

### [bar-multicolor-multiseries-center-figure.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor-multiseries-center-figure.tex)

![](./out/bar-multicolor-multiseries-center-figure.png)

  


```tex
% Vertical bar chart with different colors for each bar [duplicate]
% https://tex.stackexchange.com/questions/381213/vertical-bar-chart-with-different-colors-for-each-bar?noredirect=1&lq=1

\documentclass{article}
\usepackage{xcolor}
\usepackage{pgfplots, pgfplotstable}
\usepackage{tikz}

% tight page
\usepackage[active,tightpage]{preview}  % set tight page
\PreviewEnvironment{tikzpicture}        % preview tikz
\setlength\PreviewBorder{10pt}%         % gap around plot

\definecolor{hous}{HTML}{b88b4d}
\definecolor{green}{HTML}{79c561}
\definecolor{farming}{HTML}{ded94c}
\definecolor{trans}{HTML}{b4b4a9}
\definecolor{services}{HTML}{ff362e}
\definecolor{other}{HTML}{dbd4d3}
\definecolor{industry}{HTML}{db79c0}
\definecolor{water}{HTML}{7982db}
\definecolor{techinfra}{HTML}{303355}

\begin{document}
	
\begin{center}
	\begin{figure} 
		\label{landuse}
		\begin{tikzpicture}
		\begin{axis}[
			ybar=-1cm,
			axis x line*=bottom,
			axis y line*=left,
			height=8cm, width=\textwidth,
			bar width=1cm,
			ylabel={Share of land use in [\%]},
			symbolic x coords={Housing,Urban green,Farmlands,Transport infrastructure,Services,Other,Industrial,Water bodies,Technical infrastructure},
			x tick label style={rotate=45, anchor=east, align=left},
			nodes near coords,
			nodes near coords align={vertical}          
			]
			
			\addplot[hous,fill] coordinates {(Housing,28)};
			\addplot[green,fill] coordinates {(Urban green,28)};
			\addplot[farming,fill] coordinates {(Farmlands,12)};
			\addplot[trans,fill] coordinates {(Transport infrastructure,10)};
			\addplot[services,fill] coordinates {(Services,7)};
			\addplot[other,fill] coordinates {(Other,6)};
			\addplot[industry,fill] coordinates {(Industrial,5)};
			\addplot[water,fill] coordinates {(Water bodies,3)};
			\addplot[techinfra,fill] coordinates {(Technical infrastructure,1)};            
		\end{axis}
		\end{tikzpicture}   
	\end{figure}
\end{center}


\end{document}
```
****

### [bar-multicolor-multiseries-center-figure[4star].tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor-multiseries-center-figure[4star].tex)

![](./out/bar-multicolor-multiseries-center-figure[4star].png)

  


```tex
% Vertical bar chart with different colors for each bar [duplicate]
% https://tex.stackexchange.com/questions/381213/vertical-bar-chart-with-different-colors-for-each-bar?noredirect=1&lq=1

\documentclass{article}
\usepackage{xcolor}
\usepackage{pgfplots, pgfplotstable}
\usepackage{tikz}

% tight page
\usepackage[active,tightpage]{preview}  % set tight page
\PreviewEnvironment{tikzpicture}        % preview tikz
\setlength\PreviewBorder{10pt}%         % gap around plot


\definecolor{hous}{HTML}{b88b4d}
\definecolor{green}{HTML}{79c561}
\definecolor{farming}{HTML}{ded94c}
\definecolor{trans}{HTML}{b4b4a9}
\definecolor{services}{HTML}{ff362e}
\definecolor{other}{HTML}{dbd4d3}
\definecolor{industry}{HTML}{db79c0}
\definecolor{water}{HTML}{7982db}
\definecolor{techinfra}{HTML}{303355}

\begin{document}
	
\begin{center}
	\begin{figure} 
		\label{landuse}
		\begin{tikzpicture}
		\begin{axis}[
			ybar=-1cm,
			axis x line*=bottom,
			axis y line*=left,
			height=8cm, width=\textwidth,
			bar width=1cm,
			ylabel={Share of land use in [\%]},
			symbolic x coords={Housing,Urban green,Farmlands,Transport infrastructure,Services,Other,Industrial,Water bodies,Technical infrastructure},
			x tick label style={rotate=45, anchor=east, align=left},
			nodes near coords,
			nodes near coords align={vertical}          
			]
			
			\addplot[hous,fill] coordinates {(Housing,28)};
			\addplot[green,fill] coordinates {(Urban green,28)};
			\addplot[farming,fill] coordinates {(Farmlands,12)};
			\addplot[trans,fill] coordinates {(Transport infrastructure,10)};
			\addplot[services,fill] coordinates {(Services,7)};
			\addplot[other,fill] coordinates {(Other,6)};
			\addplot[industry,fill] coordinates {(Industrial,5)};
			\addplot[water,fill] coordinates {(Water bodies,3)};
			\addplot[techinfra,fill] coordinates {(Technical infrastructure,1)};            
		\end{axis}
		\end{tikzpicture}   
	\end{figure}
\end{center}


\end{document}
```
****

### [bar-multicolor-multiseries.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor-multiseries.tex)

![](./out/bar-multicolor-multiseries.png)

  


```tex
\documentclass{standalone}
\usepackage{pgfplotstable}
\pgfplotstableread[col sep=comma]{
	Year, Facebook, Instagram, Snapchat, WhatsApp
	2008, 17, 0,0,0
	2009,69,0,0,0
	2010,197,0,0,0
	2011,249,9,0,0
	2012,300,9,51,0
	2013,343,51,394,394
	2014,351,60,703,703
	}\mytable

\definecolor{blueaccent}{RGB}{0,150,214}
\definecolor{greenaccent}{RGB}{0,139,43}
\definecolor{purpleaccent}{RGB}{130,41,128}
\definecolor{orangeaccent}{RGB}{240,83,50}

\begin{document}
\begin{tikzpicture}
  \begin{axis}[
    width=\linewidth,
    ybar,
    bar width=7.5pt,
    ymin=0,
    enlarge x limits={abs=25pt},
    legend style={draw=none,at={(0.5,-0.15)},
    anchor=north,legend columns=-1},
    xlabel={Jahre},
    ylabel={Fotos pro Tag (in Millionen)},
    symbolic x coords={2008,2009,2010,2011,2012,2013,2014},
    xtick=data,
    cycle list={blueaccent,greenaccent,purpleaccent,orangeaccent}
  ]
    \pgfplotsinvokeforeach{Facebook,Instagram,Snapchat,WhatsApp}{
      \addplot+[draw=none,fill,] table[x=Year,y=#1]{\mytable};
      \addlegendentry{#1}
    }
\end{axis}
\end{tikzpicture}
\end{document}
```
****

### [bar-multicolor.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-multicolor.tex)

![](./out/bar-multicolor.png)

  


```tex
% https://www.latex4technics.com/?note=U130YI
% https://tex.stackexchange.com/a/370552/173708
\documentclass[a4paper, 12pt]{article}
\usepackage[paperwidth=5in, paperheight=3.2in]{geometry}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\geometry{left=0mm, right=3mm,top=6mm, bottom=3mm,}

\definecolor{mygr}{HTML}{e6e6e6}

\begin{document}
\begin{figure}[!t]
  \centering
  \begin{tikzpicture}
    \begin{axis}[
        /pgf/number format/1000 sep={},
        width=3.8in,
        height=1.8in,
        at={(0.758in,0.981in)},
        scale only axis,
        clip=false,
        separate axis lines,
        axis on top,
        xmin=0,
        xmax=5,
        xtick={1,2,3,4},
        x tick style={draw=none},
        xticklabels={GREEN,BLUE,GREY,RED},
        ytick={0, 500, 1000, 2000},
        ymin=0,
        ymax=2000,
        ylabel={YYY},
        ymajorgrids,
        every axis plot/.append style={
          ybar,
          bar width=.2,
          bar shift=0pt,
          fill
        }
      ]
      \addplot[green]coordinates {(1,600)};
      \addplot[blue]coordinates{(2,1100)};
      \addplot[mygr]coordinates{(3,1200)};
      \addplot[red]coordinates{(4,1800)};
    \end{axis}
  \end{tikzpicture}
\end{figure}
\end{document}
```
****

### [bar-percents-series-2.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bar-percents-series-2.tex)

![](./out/bar-percents-series-2.png)

  


```tex
% https://tex.stackexchange.com/a/547363/173708
\documentclass{article}



\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\usepackage[active,tightpage]{preview}  % set tight page
\PreviewEnvironment{tikzpicture}        % preview tikz
\setlength\PreviewBorder{10pt}%         % gap around plot

\pgfplotsset{testbar/.style={
    xbar stacked,
    width=.8\textwidth,
    xmajorgrids = true,
    xmin=0,xmax=100,
    ytick = data, yticklabels = {Sex,Handedness},
    tick align = outside, xtick pos = left,
    bar width=6mm, y=8mm,
    nodes near coords={\pgfmathprintnumber{\pgfplotspointmeta}\%}, % <-- prints % sign after y coordinate value
    xticklabel={\pgfmathprintnumber{\tick}\%},% <-- prints % sign after x tick value
    nodes near coords align={center}, % <-- horizontal alignment centered of nodes 
    enlarge y limits=0.5, % <-- Adds vertical space so to not crop the bars
}}

\begin{document}
\begin{tikzpicture}
    \begin{axis}[testbar]
        \addplot coordinates{(58.8,1) (82.4,0)};
        \addplot coordinates{(41.2,1) (17.6,0)};
    \end{axis}
\end{tikzpicture}
\end{document}
```
****

### [barchart.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/barchart.tex)

![](./out/barchart.png)

  


```tex
% https://tex.stackexchange.com/a/157028/173708
% arara: pdflatex
% !arara: indent: {overwrite: yes}
\documentclass[tikz]{standalone}

\usepackage{pgfplots}

\begin{document}

\pgfplotstableread[row sep=\\,col sep=&]{
    interval & carT & carD & carR \\
    0--2     & 1.2  & 0.1  & 0.2  \\
    2--5     & 12.8 & 3.8  & 4.9  \\
    5--10    & 15.5 & 10.4 & 13.4 \\
    10--20   & 14.0 & 17.3 & 22.2 \\
    20--50   & 7.9  & 21.1 & 27.0 \\
    50+      & 3.0  & 22.3 & 28.6 \\
    }\mydata

\begin{tikzpicture}
    \begin{axis}[
            ybar,
            bar width=.5cm,
            width=\textwidth,
            height=.5\textwidth,
            legend style={at={(0.5,1)},
                anchor=north,legend columns=-1},
            symbolic x coords={0--2,2--5,5--10,10--20,20--50,50+},
            xtick=data,
            nodes near coords,
            nodes near coords align={vertical},
            ymin=0,ymax=35,
            ylabel={\%},
        ]
        \addplot table[x=interval,y=carT]{\mydata};
        \addplot table[x=interval,y=carD]{\mydata};
        \addplot table[x=interval,y=carR]{\mydata};
        \legend{Trips, Distance, Energy}
    \end{axis}
\end{tikzpicture}
\end{document}
```
****

### [bars_2-series.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bars_2-series.tex)

![](./out/bars_2-series.png)

  


```tex
% https://texample.net/tikz/examples/bar-chart/
% Bar charts
% Author: Stefan Kottwitz
% https://www.packtpub.com/hardware-and-creative/latex-cookbook
\documentclass[border=10pt]{standalone}
\usepackage{pgfplots}
\begin{document}
\begin{tikzpicture}
  \begin{axis}[title  = Contributions per category
                          at LaTeX-Community.org,
    xbar,
    y axis line style = { opacity = 0 },
    axis x line       = none,
    tickwidth         = 0pt,
    enlarge y limits  = 0.2,
    enlarge x limits  = 0.02,
    symbolic y coords = {LaTeX, Tools, Distributions, Editors},
    nodes near coords,
  ]
  \addplot coordinates { (57727,LaTeX)         (5672,Tools)
                         (2193,Distributions)  (11106,Editors) };
  \addplot coordinates { (14320,LaTeX)         (1615,Tools)
                         (560,Distributions)   (3075,Editors)  };
  \legend{Topics, Posts}
  \end{axis}
\end{tikzpicture}
\end{document}
```
****

### [bars-2-yes-no.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/bars-2-yes-no.tex)

![](./out/bars-2-yes-no.png)

  


```tex
\documentclass{standalone}
% translate with >> pdflatex -shell-escape <file>

% This file is an extract of the PGFPLOTS manual, copyright by Christian Feuersaenger.
% 
% Feel free to use it as long as you cite the pgfplots manual properly.
%
% See
%   http://pgfplots.sourceforge.net/pgfplots.pdf
% for the complete manual.
%
% Any required input files (for <plot table> or <plot file> or the table package) can be downloaded
% at
% http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/
% and
% http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/plotdata/

\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\pagestyle{empty}

\begin{document}
\begin{tikzpicture}
  \begin{axis}[
    xbar, xmin=0,
    width=12cm, height=3.5cm, enlarge y limits=0.5,
    xlabel={\#participants},
    symbolic y coords={no,yes},
    ytick=data,
    nodes near coords, nodes near coords align={horizontal},
    ]
    \addplot coordinates {(3,no) (7,yes)};
  \end{axis}
\end{tikzpicture}
\end{document}
```
****

### [dynamic-axis-pgf.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/dynamic-axis-pgf.tex)

![](./out/dynamic-axis-pgf.png)

  


```tex

% https://tex.stackexchange.com/a/424443/173708
% used PGFPlots v1.15
\documentclass[border=5pt]{standalone}
\usepackage{pgfplots}
    \usetikzlibrary{
        arrows.meta,
    }
    \pgfplotsset{
        compat=1.15,
        % create custom style and add all keys/options that are valid for this
        % particular style
        my axis style/.style={
            axis x line=middle,
            axis y line=middle,
            axis line style={
                thick,
                -Latex,
            },
            %% Definition, where to put the description of the axes.
            xlabel style={
                at={(ticklabel cs:1)},
                anchor=north east,
                font=\small\sffamily,
            },
            ylabel style={
                at={(ticklabel cs:1)},
                anchor=south east,
                rotate=90,
                font=\small\sffamily,
            },
            ticks=none,
        },
        % (this is for demonstration purposes only)
        % this is a style very similar to the previous one ...
        my similar axis style/.style={
            % ... so you can use the previous one as a basis
            my axis style,
            % and than add options that should be added to this style
            xlabel={Menge $x$},
            ylabel={Rate $\frac{d\,x}{d\,t}$},
        },
    }
\begin{document}
\begin{tikzpicture}
    \begin{axis}[
        % load custom style when needed/appropriate
        my similar axis style,
        % load keys/options that are only valid for this `axis' environment
        xmax=4,
    ]
        \addplot [domain=0:3] {1.2};
    \end{axis}
\end{tikzpicture}
\end{document}
```
****

### [dynamic-barchart-autocolor.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/dynamic-barchart-autocolor.tex)

![](./out/dynamic-barchart-autocolor.png)

  


```tex
% Color of bar plot depending on the bar height (pgfplot)
% https://tex.stackexchange.com/questions/132081/color-of-bar-plot-depending-on-the-bar-height-pgfplot?noredirect=1&lq=1
\documentclass{standalone}
\usepackage{pgfplots,pgfplotstable}

\begin{document}
	
\begin{tikzpicture}
  \begin{axis}[
      colorbar,
    point meta min=30, point meta max=80,
    only marks,
    scatter,
    scatter src=x,
    clip mode=individual,
    scatter/@pre marker code/.append code={
            \pgfkeys{/pgf/fpu=true,/pgf/fpu/output format=fixed}
            \pgfmathsetmacro\negheight{-\pgfplotspointmeta}         
            \fill [draw=black] (axis direction cs:0,0.3) rectangle (axis direction cs:\negheight,-0.3);
            \pgfplotsset{mark=none}
        },
    xmin=0,
    width=12cm, height=5cm, enlarge y limits=0.5,
    xlabel={\#participants},
    ytick=data,
    yticklabels={No, Yes, Maybe}
    ]
    \addplot table [y expr=\coordindex] {
    Participants Answer
    30 no
    40 yes
    80 maybe
    };
  \end{axis}
\end{tikzpicture}
\end{document}
```
****

### [dynamic-barchart-color-from-table-pgf.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/dynamic-barchart-color-from-table-pgf.tex)

![](./out/dynamic-barchart-color-from-table-pgf.png)

  


```tex
\documentclass{standalone}
\usepackage{pgfplots, pgfplotstable}

\pgfplotsset{compat=1.16}
\usetikzlibrary{calc}
\usepackage[utf8]{inputenc}

\pgfkeys{/pgf/shapes/xbar/height/.initial=10cm,/pgf/shapes/xbar/width/.initial=6pt}
\pgfdeclareplotmark{xbar}{%
	\pgfpathrectangle{\pgfpoint{0pt}{-.5*\pgfkeysvalueof{/pgf/shapes/xbar/width}}{0pt}}{%
		\pgfpoint{-\pgfkeysvalueof{/pgf/shapes/xbar/height}}{\pgfkeysvalueof{/pgf/shapes/xbar/width}}}
	\pgfusepath{stroke,fill}}

\begin{document}
	
\pgfplotstableread[col sep=comma]{
	label,startyear,endyear,color  
	Washington, 1789, 1797, black!50
	Adams, 1797, 1801, red!30
	Jefferson, 1801, 1809, green!50
	Madison, 1801, 1809, green!50
}\loadedtable

% sort by startyear
\pgfplotstablesort[sort key=startyear]\sortedtable\loadedtable

\begin{tikzpicture}
	\begin{axis}[xmin=1785,xmax=1810,height=4cm,
		/pgf/shapes/xbar/width=0.2cm,
		axis lines=left,
		width=\textwidth, 
		enlarge y limits={abs=0.5},
		ytick=\empty,
		scatter/@pre marker code/.code={
			\pgfplotstablegetelem{\coordindex}{color}\of{\sortedtable}
			\edef\mycolor{\pgfplotsretval}
			\pgfplotstablegetelem{\coordindex}{startyear}\of{\sortedtable}
			\edef\startyear{\pgfplotsretval}
			\pgfplotstablegetelem{\coordindex}{endyear}\of{\sortedtable}
			\edef\endyear{\pgfplotsretval}
			\pgfmathsetmacro{\myheight}{(\endyear-\startyear)*\xunit}
			\scope[fill=\mycolor,/pgf/shapes/xbar/height=\myheight pt]},
		]
		
		\addplot [xbar stacked,draw=none, forget plot] table [col sep=comma,x=startyear, y expr=-\coordindex]{\sortedtable};
		\path let \p1=($(1786,0)-(1785,0)$)    in \pgfextra{\xdef\xunit{\x1}}; % measure x unit
		\addplot[only marks,scatter,mark=xbar,
		nodes near coords*,
		nodes near coords align={anchor=west},
		point meta=explicit symbolic, every node near coord/.append style={black}] 
		table[col sep=comma,y expr=-\coordindex,x expr=\thisrow{endyear},meta=label]{\sortedtable};
	
	\end{axis}
\end{tikzpicture}
\end{document}
```
****

### [dynamic-barchart-discard-column-fm-table-4star-.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/dynamic-barchart-discard-column-fm-table-4star-.tex)

![](./out/dynamic-barchart-discard-column-fm-table-4star-.png)

  


```tex
% Different color for individual bar in bar chart & adding bar labels
% https://tex.stackexchange.com/questions/80012/different-color-for-individual-bar-in-bar-chart-adding-bar-labels

%\documentclass{article}
\documentclass{standalone}
\usepackage{filecontents}
\usepackage{tikz}
\usepackage{pgfplots,pgfplotstable} 

\pgfplotsset{
	discard if/.style 2 args={
	    x filter/.code={
	        \ifdim\thisrow{#1} pt=#2pt
	            \def\pgfmathresult{inf}
	        \fi
	    }
	},
	discard if not/.style 2 args={
	    x filter/.code={
	        \ifdim\thisrow{#1} pt=#2pt
	        \else
	            \def\pgfmathresult{inf}
	        \fi
	    }
	}
}

\begin{filecontents}{EvalAbgelehntePP.dat}
	Wert PP  HaeufigkeitAbs  HaeufigkeitRel
	1    4        682        61.49684400360685
	2    5        630        56.80793507664562
	3    7        457        41.2082957619477
	4    9        414        37.33092876465284
	5    1        403        36.339044183949504
	6    8        394        35.527502254283135
	7    6        360        32.46167718665464
	8    3        268        24.16591523895401
	9    2        254        22.90351668169522
	10  10        207        18.66546438232642
	11  {\rotatebox{90}{not rejected}}  226 20.378719567177637
\end{filecontents}

\begin{document}

\begin{tikzpicture} 
	\begin{axis}[ 
	    ybar,
	    xtick={1,...,11},
%	    xtick=data,       % get xticks from data
	    xticklabels from table = {EvalAbgelehntePP.dat}{PP},
	    xtick align=inside,
	    xlabel={production programms},
	    every axis x label/.style={at={(ticklabel cs:0.5)},anchor=near ticklabel},
	    ylabel=occurrence,
	    every axis y label/.style={at={(ticklabel cs:0.5)},rotate=90,anchor=near ticklabel}
	] 
	
	% first layer
	\addplot[ybar, bar shift=0pt, fill=blue,
	    discard if={Wert}{11},
	    nodes near coords=\pgfmathprintnumber{\pgfplotspointmeta}\%,
	    every node near coord/.style={
	        font=\scriptsize,
	        /pgf/number format/precision=0
	    },
	    point meta=explicit] table [ 
	    x=Wert, 
	    y=HaeufigkeitAbs,
	    meta=HaeufigkeitRel
	] {EvalAbgelehntePP.dat} ;
	
	% second layer
	\addplot[ybar, bar shift=0pt, fill=orange,
	    discard if not={Wert}{11},
	    nodes near coords=\pgfmathprintnumber{\pgfplotspointmeta}\%,
	    every node near coord/.style={
	        font=\scriptsize,
	        /pgf/number format/precision=0
	    },
	    point meta=explicit] table [ 
	    x=Wert, 
	    y=HaeufigkeitAbs,
	    meta=HaeufigkeitRel
	] {EvalAbgelehntePP.dat} ;
	
	\end{axis} 
\end{tikzpicture} 

\end{document}
```
****

### [dynamic-barchart-discard-column-fm-table-9000-4star-.tex](https://github.com/f0nzie/tikz_bars/blob/master/src/dynamic-barchart-discard-column-fm-table-9000-4star-.tex)

![](./out/dynamic-barchart-discard-column-fm-table-9000-4star-.png)

  


```tex
% Different color for individual bar in bar chart & adding bar labels
% https://tex.stackexchange.com/questions/80012/different-color-for-individual-bar-in-bar-chart-adding-bar-labels

\documentclass{standalone}
\usepackage{filecontents}
\usepackage{tikz}
\usepackage{pgfplots,pgfplotstable} 

\pgfplotsset{
	discard if/.style 2 args={
	    x filter/.code={
	        \ifdim\thisrow{#1} pt=#2pt
	            \def\pgfmathresult{inf}
	        \fi
	    }
	},
	discard if not/.style 2 args={
	    x filter/.code={
	        \ifdim\thisrow{#1} pt=#2pt
	        \else
	            \def\pgfmathresult{inf}
	        \fi
	    }
	}
}

\begin{filecontents}{EvalAbgelehntePP.dat}
	Wert PP  HaeufigkeitAbs  HaeufigkeitRel
	1    4        682        61.49684400360685
	2    5        630        56.80793507664562
	3    7        457        41.2082957619477
	4    9        414        37.33092876465284
	5    1        403        36.339044183949504
	6    8        394        35.527502254283135
	7    6        360        32.46167718665464
	8    3        268        24.16591523895401
	9    2        254        22.90351668169522
	10  10        207        18.66546438232642
	11  {\rotatebox{90}{not rejected}}  226 20.378719567177637
\end{filecontents}

\begin{document}

\begin{tikzpicture} 
	\begin{axis}[ 
	    ybar,
%	    xtick={1,...,11},
	    xtick=data,       % get xticks from data
	    xticklabels from table = {EvalAbgelehntePP.dat}{PP},
	    xtick align=inside,
	    xlabel={production programms},
	    every axis x label/.style={at={(ticklabel cs:0.5)},anchor=near ticklabel},
	    ylabel=occurrence,
	    every axis y label/.style={at={(ticklabel cs:0.5)},rotate=90,anchor=near ticklabel}
	] 
	
	% first layer
	\addplot[ybar, bar shift=0pt, fill=blue,
	    discard if={Wert}{11},
	    nodes near coords=\pgfmathprintnumber{\pgfplotspointmeta}\%,
	    every node near coord/.style={
	        font=\scriptsize,
	        /pgf/number format/precision=0
	    },
	    point meta=explicit] table [ 
	    x=Wert, 
	    y=HaeufigkeitAbs,
	    meta=HaeufigkeitRel
	] {EvalAbgelehntePP.dat} ;
	
	% second layer
	\addplot[ybar, bar shift=0pt, fill=orange,
	    discard if not={Wert}{11},
	    nodes near coords=\pgfmathprintnumber{\pgfplotspointmeta}\%,
	    every node near coord/.style={
	        font=\scriptsize,
	        /pgf/number format/precision=0
	    },
	    point meta=explicit] table [ 
	    x=Wert, 
	    y=HaeufigkeitAbs,
	    meta=HaeufigkeitRel
	] {EvalAbgelehntePP.dat} ;
	
	\end{axis} 
\end{tikzpicture} 

\end{document}
```





## Implementation of a simple tag system for files

I am implementing a very primitive tag system based of identifiers that are included in the filenames. I started to do this in TikZ because the graphics could belong to different categories at the same time. My plan is using what is available in the operating systems. Tools like `grep`, `find`, `regex`, etc., should make this possible. I have done a pilot of this and seems to be working.

To tag the file -as you will see in the repository- I use the plus sign. I tried different symbols and this symbol is not obfuscated as a search string.

* Characters that pass the search test at OS level: `@`, `!`, `=`, `+`.
* Character that do not pass: `#`.

> Other possibilities include using the comments section of the TikZ file to add the tags and categories.
